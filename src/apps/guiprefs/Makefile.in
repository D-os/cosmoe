prefix=@prefix@
bindir=${prefix}/bindir

COPTS	= -g -Wall -Wno-multichar -Woverloaded-virtual -Wnon-virtual-dtor -c -specs=@top_srcdir@/cosmoe.specs

OBJS = main.o fontpanel.o screenpanel.o windowpanel.o keyboardpanel.o coloredit.o
EXE	= guiprefs
COSMOELIBDIR=@top_srcdir@/libcosmoe/objs

CC	= @CC@
LL	= @CXX@
LIBS	= -lm -L$(COSMOELIBDIR) -lcosmoe -ldl -lpthread

$(EXE) : $(OBJS)
	$(LL) $(OBJS) $(LIBS) -o $@

install: $(EXE) $(bindir)
	cp -f $(EXE) $(bindir)

$(bindir):
	mkdir -p $(bindir)

clean:
	-rm -f $(EXE) $(OBJS) *~

distclean: clean
	-rm -f Makefile

.cpp.o:
	$(CC) $(COPTS) $< -o $@

main.o : main.cpp
	$(CC) $(COPTS) $< -o $@
